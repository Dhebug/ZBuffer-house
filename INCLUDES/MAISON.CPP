// 
// G‚n‚r‚ avec X-Edit (c) 1993-94 NeXT
// 
extern unsigned char texture_mur[];
extern unsigned char texture_bois[];
extern unsigned char texture_pierre[];
extern unsigned char texture_sol[];
extern unsigned char texture_porte[];
extern unsigned char texture_fenetre[];
 
struct point3d
{
  float x;
  float y;
  float z;
  float c;
};
 
struct facette
{
  unsigned char type;     // 0-> Uni (=MOTIF) // 1-> Gouraud // 2-> Texture
  unsigned char motif;    // Indice de couleur
  unsigned char* texture; // Adresse de la texture
  unsigned char nb;       // Nombre de points de la facette
  unsigned int p[4];      // Liste des points affect‚s … la facette
};
 
struct point3d far ps[]=
{
{-17.5 ,-22.5 , 0 , 192 },
{-12.5 ,-22.5 , 0 , 192 },
{-7.5 ,-22.5 , 0 , 192 },
{-2.5 ,-22.5 , 0 , 192 },
{ 2.5 ,-22.5 , 0 , 192 },
{ 7.5 ,-22.5 , 0 , 192 },
{ 12.5 ,-22.5 , 0 , 208 },
{ 12.5 ,-17.5 , 0 , 210 },
{ 12.5 ,-12.5 , 0 , 210 },
{ 7.5 ,-12.5 , 0 , 210 },
{ 7.5 ,-7.5 , 0 , 210 },
{ 2.5 ,-7.5 , 0 , 210 },
{-2.5 ,-7.5 , 0 , 210 },
{-7.5 ,-7.5 , 0 , 210 },
{-12.5 ,-7.5 , 0 , 208 },
{-17.5 ,-7.5 , 0 , 192 },
{-17.5 ,-12.5 , 0 , 192 },
{-17.5 ,-17.5 , 0 , 192 },
{-17.5 ,-22.5 ,-5.3125 , 0 },
{-12.5 ,-22.5 ,-5.3125 , 0 },
{-7.5 ,-22.5 ,-5.3125 , 0 },
{-2.5 ,-22.5 ,-5.3125 , 0 },
{ 2.5 ,-22.5 ,-5.3125 , 0 },
{ 7.5 ,-22.5 ,-5.3125 , 0 },
{ 12.5 ,-22.5 ,-5.3125 , 0 },
{ 12.5 ,-17.5 ,-5.3125 , 0 },
{ 12.5 ,-12.5 ,-5.3125 , 0 },
{ 7.5 ,-12.5 ,-5.3125 , 0 },
{ 7.5 ,-7.5 ,-5.3125 , 0 },
{ 2.5 ,-7.5 ,-5.3125 , 0 },
{-2.5 ,-7.5 ,-5.3125 , 0 },
{-7.5 ,-7.5 ,-5.3125 , 0 },
{-12.5 ,-7.5 ,-5.3125 , 0 },
{-17.5 ,-7.5 ,-5.3125 , 0 },
{-17.5 ,-12.5 ,-5.3125 , 0 },
{-17.5 ,-17.5 ,-5.3125 , 0 },
{ 7.5 ,-17.5 ,-7.96875 , 0 },
{ 12.5 ,-17.5 ,-7.96875 , 0 },
{ 12.5 ,-7.5 , 0 , 210 },
{ 7.5 ,-2.5 , 0 , 210 },
{ 12.5 ,-2.5 , 0 , 210 },
{ 17.5 ,-2.5 , 0 , 224 },
{ 17.5 ,-7.5 , 0 , 220 },
{ 17.5 ,-12.5 , 0 , 224 },
{ 17.5 ,-17.5 , 0 , 228 },
{ 17.5 ,-22.5 ,-.53125 , 224 },
{ 17.5 ,-27.5 ,-1.0625 , 220 },
{ 12.5 ,-27.5 ,-.53125 , 214 },
{ 7.5 ,-27.5 , 0 , 220 },
{ 2.5 ,-27.5 , 0 , 224 },
{-2.5 ,-27.5 , 0 , 226 },
{-7.5 ,-27.5 , 0 , 228 },
{-12.5 ,-27.5 , 0 , 229 },
{-17.5 ,-27.5 , 0 , 224 },
{-22.5 ,-27.5 , 0 , 224 },
{-22.5 ,-22.5 , 0 , 224 },
{-22.5 ,-17.5 , 0 , 224 },
{-22.5 ,-12.5 , 0 , 230 },
{-22.5 ,-7.5 , 0 , 224 },
{-22.5 ,-2.5 , 0 , 224 },
{-17.5 ,-2.5 , 0 , 224 },
{-12.5 ,-2.5 , 0 , 215 },
{-7.5 ,-2.5 , 0 , 224 },
{-2.5 ,-2.5 , 0 , 224 },
{ 2.5 ,-2.5 , 0 , 224 },
{-17.5 ,-17.5 ,-7.96875 , 0 },
{-12.5 ,-17.5 ,-7.96875 , 0 },
{-7.5 ,-17.5 ,-7.96875 , 0 },
{-7.5 ,-15 ,-9.03125 , 0 },
{-2.5 ,-15 ,-9.03125 , 0 },
{ 2.5 ,-15 ,-9.03125 , 0 },
{ 7.5 ,-15 ,-9.03125 , 0 },
{-7.5 ,-15 ,-5.3125 , 0 },
{ 7.5 ,-17.5 ,-5.3125 , 0 },
{ 17.5 ,-32.5 ,-1.59375 , 210 },
{ 12.5 ,-32.5 ,-1.0625 , 215 },
{ 7.5 ,-32.5 ,-.53125 , 220 },
{ 2.5 ,-32.5 , 0 , 224 },
{-2.5 ,-32.5 , 0 , 210 },
{-7.5 ,-32.5 , 0 , 220 },
{-12.5 ,-32.5 , 0 , 224 },
{-17.5 ,-32.5 , 0 , 224 },
{-22.5 ,-32.5 , 0 , 224 },
{ 17.5 ,-37.5 ,-2.125 , 205 },
{ 12.5 ,-37.5 ,-1.59375 , 210 },
{ 7.5 ,-37.5 ,-1.0625 , 215 },
{ 2.5 ,-37.5 ,-.53125 , 217 },
{-2.5 ,-37.5 ,-.53125 , 220 },
{-7.5 ,-37.5 , 0 , 224 },
{-12.5 ,-37.5 , 0 , 230 },
{-17.5 ,-37.5 , 0 , 232 },
{-22.5 ,-37.5 , 0 , 228 },
{-12.5 ,-15 ,-9.296875 , 0 },
{-12.5 ,-12.5 ,-9.296875 , 0 },
{-10 ,-12.5 ,-9.296875 , 0 },
{-10 ,-15 ,-9.296875 , 0 },
{-12.5 ,-15 ,-6.90625 , 0 },
{-12.5 ,-12.5 ,-6.90625 , 0 },
{-10 ,-12.5 ,-6.90625 , 0 },
{-10 ,-15 ,-6.90625 , 0 },
{ 5 , 2.5 ,-.53125 , 224 },
{ 10 , 5 ,-.53125 , 224 },
{ 2.5 , 7.5 ,-1.328125 , 224 },
{ 7.5 , 10 ,-1.328125 , 224 },
{-2.5 , 12.5 ,-1.59375 , 224 },
{ 2.5 , 15 ,-1.59375 , 224 },
{-7.5 , 17.5 ,-1.859375 , 224 },
{-2.5 , 20 ,-1.859375 , 224 },
{-12.5 , 22.5 ,-1.328125 , 224 },
{-10 , 25 ,-1.0625 , 224 },
{-15 , 30 ,-.53125 , 224 },
{-10 , 32.5 ,-.53125 , 224 },
{-22.5 , 5 , 0 , 160 },
{-25 , 7.5 , 0 , 180 },
{-15 , 7.5 , 0 , 160 },
{-20 , 10 , 0 , 180 },
{-12.5 , 10 , 0 , 160 },
{-15 , 12.5 , 0 , 180 },
{-5 , 12.5 , 0 , 160 },
{-7.5 , 15 , 0 , 180 },
{ 0 , 15 , 0 , 160 },
{-2.5 , 17.5 , 0 , 180 },
{ 5 , 17.5 , 0 , 160 },
{ 0 , 20 , 0 , 180 },
{ 10 , 20 , 0 , 160 },
{ 5 , 22.5 , 0 , 190 },
{ 12.5 , 22.5 , 0 , 170 },
{ 10 , 25 , 0 , 190 },
{ 20 , 25 , 0 , 160 },
{ 17.5 , 30 , 0 , 180 },
{-22.5 , 0 ,-.53125 , 224 },
{-17.5 , 0 ,-.53125 , 224 },
{-12.5 , 2.5 ,-.53125 , 228 },
{-7.5 , 2.5 ,-.53125 , 235 },
{-2.5 , 2.5 ,-.53125 , 230 },
{ 2.5 , 2.5 ,-.53125 , 225 },
{-25 , 2.5 ,-.53125 , 225 },
{-19 , 2.5 ,-.53125 , 215 },
{-13.5 , 5 ,-.53125 , 225 },
{-10 , 7.5 ,-.53125 , 220 },
{-5 , 7.5 ,-.53125 , 223 },
{-2.5 , 7.5 ,-.53125 , 225 },
{-22.5 , 5 ,-.53125 , 225 },
{-20 , 5 ,-.53125 , 220 },
{-15 , 7.5 ,-.6375 , 225 },
{-12.5 , 10 ,-.53125 , 205 },
{-7.5 , 10 ,-.7968751 , 210 },
{-5 , 10.5 ,-1.0625 , 220 },
{-22.5 , 9.5 , 0 , 160 },
{-20 , 5.999999 , 0 , 170 },
{-10.5 , 13.5 , 0 , 160 },
{-9 , 10.5 , 0 , 165 },
{-5 , 16 , 0 , 180 },
{-2.5 , 13.75 , 0 , 170 },
{ 5 , 16.25 ,-1.328125 , 220 },
{ 10 , 19 ,-1.0625 , 215 },
{ 12.5 , 21.25 ,-.53125 , 220 },
{ 20 , 23.75 ,-.53125 , 224 },
{ 10 , 12.5 , 0 , 224 },
{ 12.5 , 12.5 , 0 , 226 },
{ 15 , 13.75 , 0 , 230 },
{ 20 , 15 , 0 , 226 },
{ 12.5 , 7 , 0 , 224 },
{ 15 , 7.5 , 0 , 220 },
{ 17.5 , 7.5 , 0 , 215 },
{ 20 , 7.5 , 0 , 224 },
{ 15 , 0 , 0 , 227 },
{ 17.5 , 0 , 0 , 210 },
{ 22.5 , 2.5 , 0 , 224 },
};
 
struct facette far f[]=
{
{2, 32 ,texture_mur,4,{ 19 , 1 , 0 , 18 }},
{2, 32 ,texture_mur,4,{ 20 , 2 , 1 , 19 }},
{2, 32 ,texture_fenetre,4,{ 21 , 3 , 2 , 20 }},
{2, 32 ,texture_mur,4,{ 22 , 4 , 3 , 21 }},
{2, 32 ,texture_mur,4,{ 23 , 5 , 4 , 22 }},
{2, 32 ,texture_fenetre,4,{ 24 , 6 , 5 , 23 }},
{2, 55 ,texture_mur,4,{ 25 , 7 , 6 , 24 }},
{2, 55 ,texture_fenetre,4,{ 26 , 8 , 7 , 25 }},
{2, 63 ,texture_porte,4,{ 27 , 9 , 8 , 26 }},
{2, 55 ,texture_mur,4,{ 28 , 10 , 9 , 27 }},
{2, 63 ,texture_mur,4,{ 29 , 11 , 10 , 28 }},
{2, 63 ,texture_fenetre,4,{ 30 , 12 , 11 , 29 }},
{2, 63 ,texture_mur,4,{ 31 , 13 , 12 , 30 }},
{2, 63 ,texture_fenetre,4,{ 32 , 14 , 13 , 31 }},
{2, 63 ,texture_mur,4,{ 33 , 15 , 14 , 32 }},
{2, 40 ,texture_mur,4,{ 34 , 16 , 15 , 33 }},
{2, 40 ,texture_fenetre,4,{ 35 , 17 , 16 , 34 }},
{2, 40 ,texture_mur,4,{ 18 , 0 , 17 , 35 }},
{2, 63 ,texture_bois,4,{ 36 , 27 , 26 , 37 }},
{2, 50 ,texture_bois,4,{ 37 , 24 , 23 , 36 }},
{2, 55 ,texture_mur,4,{ 37 , 26 , 25 , 37 }},
{2, 55 ,texture_mur,4,{ 37 , 25 , 24 , 37 }},
{2, 63 ,texture_sol,4,{ 10 , 38 , 8 , 9 }},
{2, 63 ,texture_sol,4,{ 39 , 40 , 38 , 10 }},
{1,0,texture_mur,4,{ 38 , 40 , 41 , 42 }},
{1,0,texture_mur,4,{ 8 , 38 , 42 , 43 }},
{1,0,texture_mur,4,{ 7 , 8 , 43 , 44 }},
{1,0,texture_mur,4,{ 6 , 7 , 44 , 45 }},
{1,0,texture_mur,4,{ 47 , 6 , 45 , 46 }},
{1,0,texture_mur,4,{ 48 , 5 , 6 , 47 }},
{1,0,texture_mur,4,{ 49 , 4 , 5 , 48 }},
{1,0,texture_mur,4,{ 50 , 3 , 4 , 49 }},
{1,0,texture_mur,4,{ 51 , 2 , 3 , 50 }},
{1,0,texture_mur,4,{ 52 , 1 , 2 , 51 }},
{1,0,texture_mur,4,{ 53 , 0 , 1 , 52 }},
{1,0,texture_mur,4,{ 54 , 55 , 0 , 53 }},
{1,0,texture_mur,4,{ 55 , 56 , 17 , 0 }},
{1,0,texture_mur,4,{ 56 , 57 , 16 , 17 }},
{1,0,texture_mur,4,{ 57 , 58 , 15 , 16 }},
{1,0,texture_mur,4,{ 58 , 59 , 60 , 15 }},
{1,0,texture_mur,4,{ 15 , 60 , 61 , 14 }},
{1,0,texture_mur,4,{ 14 , 61 , 62 , 13 }},
{1,0,texture_mur,4,{ 13 , 62 , 63 , 12 }},
{1,0,texture_mur,4,{ 12 , 63 , 64 , 11 }},
{1,0,texture_mur,4,{ 11 , 64 , 39 , 10 }},
{2, 63 ,texture_bois,4,{ 65 , 33 , 32 , 66 }},
{2, 63 ,texture_bois,4,{ 66 , 32 , 31 , 67 }},
{2, 50 ,texture_bois,4,{ 67 , 20 , 19 , 66 }},
{2, 50 ,texture_bois,4,{ 66 , 19 , 18 , 65 }},
{2, 63 ,texture_bois,4,{ 68 , 31 , 30 , 69 }},
{2, 63 ,texture_bois,4,{ 69 , 30 , 29 , 70 }},
{2, 63 ,texture_bois,4,{ 70 , 29 , 28 , 71 }},
{2, 48 ,texture_bois,4,{ 71 , 23 , 22 , 70 }},
{2, 48 ,texture_bois,4,{ 70 , 22 , 21 , 69 }},
{2, 48 ,texture_bois,4,{ 69 , 21 , 20 , 68 }},
{2, 40 ,texture_mur,4,{ 65 , 18 , 35 , 65 }},
{2, 40 ,texture_mur,4,{ 65 , 35 , 33 , 65 }},
{2, 40 ,texture_mur,4,{ 68 , 20 , 72 , 68 }},
{2, 40 ,texture_mur,4,{ 68 , 72 , 31 , 68 }},
{2, 55 ,texture_mur,4,{ 71 , 28 , 73 , 36 }},
{2, 55 ,texture_mur,4,{ 71 , 73 , 23 , 36 }},
{1,0,texture_mur,4,{ 75 , 47 , 46 , 74 }},
{1,0,texture_mur,4,{ 76 , 48 , 47 , 75 }},
{1,0,texture_mur,4,{ 77 , 49 , 48 , 76 }},
{1,0,texture_mur,4,{ 78 , 50 , 49 , 77 }},
{1,0,texture_mur,4,{ 79 , 51 , 50 , 78 }},
{1,0,texture_mur,4,{ 80 , 52 , 51 , 79 }},
{1,0,texture_mur,4,{ 81 , 53 , 52 , 80 }},
{1,0,texture_mur,4,{ 82 , 54 , 53 , 81 }},
{1,0,texture_mur,4,{ 84 , 75 , 74 , 83 }},
{1,0,texture_mur,4,{ 85 , 76 , 75 , 84 }},
{1,0,texture_mur,4,{ 86 , 77 , 76 , 85 }},
{1,0,texture_mur,4,{ 87 , 78 , 77 , 86 }},
{1,0,texture_mur,4,{ 88 , 79 , 78 , 87 }},
{1,0,texture_mur,4,{ 89 , 80 , 79 , 88 }},
{1,0,texture_mur,4,{ 90 , 81 , 80 , 89 }},
{1,0,texture_mur,4,{ 91 , 82 , 81 , 90 }},
{2, 40 ,texture_mur,4,{ 92 , 96 , 97 , 93 }},
{2, 63 ,texture_mur,4,{ 93 , 97 , 98 , 94 }},
{2, 55 ,texture_mur,4,{ 94 , 98 , 99 , 95 }},
{2, 32 ,texture_mur,4,{ 95 , 99 , 96 , 92 }},
{2, 63 ,texture_sol,4,{ 100 , 101 , 40 , 39 }},
{2, 63 ,texture_sol,4,{ 102 , 103 , 101 , 100 }},
{2, 63 ,texture_sol,4,{ 104 , 105 , 103 , 102 }},
{2, 63 ,texture_sol,4,{ 108 , 109 , 107 , 106 }},
{2, 63 ,texture_sol,4,{ 110 , 111 , 109 , 108 }},
{1,0,texture_mur,4,{ 112 , 113 , 148 , 149 }},
{1,0,texture_mur,4,{ 149 , 148 , 115 , 114 }},
{1,0,texture_mur,4,{ 114 , 115 , 117 , 116 }},
{1,0,texture_mur,4,{ 116 , 117 , 150 , 151 }},
{1,0,texture_mur,4,{ 151 , 150 , 119 , 118 }},
{1,0,texture_mur,4,{ 118 , 119 , 152 , 153 }},
{1,0,texture_mur,4,{ 153 , 152 , 121 , 120 }},
{1,0,texture_mur,4,{ 120 , 121 , 123 , 122 }},
{1,0,texture_mur,4,{ 122 , 123 , 125 , 124 }},
{1,0,texture_mur,4,{ 124 , 125 , 127 , 126 }},
{1,0,texture_mur,4,{ 126 , 127 , 129 , 128 }},
{1,0,texture_mur,4,{ 59 , 130 , 131 , 60 }},
{1,0,texture_mur,4,{ 60 , 131 , 132 , 61 }},
{1,0,texture_mur,4,{ 61 , 132 , 133 , 62 }},
{1,0,texture_mur,4,{ 62 , 133 , 134 , 63 }},
{1,0,texture_mur,4,{ 63 , 134 , 135 , 64 }},
{1,0,texture_mur,4,{ 64 , 135 , 100 , 39 }},
{1,0,texture_mur,4,{ 130 , 136 , 137 , 131 }},
{1,0,texture_mur,4,{ 131 , 137 , 138 , 132 }},
{1,0,texture_mur,4,{ 132 , 138 , 139 , 133 }},
{1,0,texture_mur,4,{ 133 , 139 , 140 , 134 }},
{1,0,texture_mur,4,{ 134 , 140 , 141 , 135 }},
{1,0,texture_mur,4,{ 135 , 141 , 102 , 100 }},
{1,0,texture_mur,4,{ 136 , 142 , 143 , 137 }},
{1,0,texture_mur,4,{ 137 , 143 , 144 , 138 }},
{1,0,texture_mur,4,{ 138 , 144 , 145 , 139 }},
{1,0,texture_mur,4,{ 139 , 145 , 146 , 140 }},
{1,0,texture_mur,4,{ 140 , 146 , 147 , 141 }},
{1,0,texture_mur,4,{ 141 , 147 , 104 , 102 }},
{2, 55 ,texture_pierre,4,{ 142 , 112 , 149 , 143 }},
{2, 55 ,texture_pierre,4,{ 143 , 149 , 114 , 144 }},
{2, 55 ,texture_pierre,4,{ 144 , 114 , 116 , 145 }},
{2, 55 ,texture_pierre,4,{ 145 , 116 , 151 , 146 }},
{2, 55 ,texture_pierre,4,{ 146 , 151 , 118 , 147 }},
{2, 40 ,texture_pierre,4,{ 147 , 118 , 153 , 104 }},
{2, 30 ,texture_pierre,4,{ 104 , 153 , 120 , 105 }},
{2, 32 ,texture_pierre,4,{ 104 , 106 , 107 , 105 }},
{1,0,texture_mur,4,{ 103 , 105 , 154 , 158 }},
{1,0,texture_mur,4,{ 158 , 154 , 155 , 159 }},
{1,0,texture_mur,4,{ 159 , 155 , 156 , 160 }},
{1,0,texture_mur,4,{ 160 , 156 , 157 , 161 }},
{1,0,texture_mur,4,{ 101 , 103 , 158 , 162 }},
{1,0,texture_mur,4,{ 162 , 158 , 159 , 163 }},
{1,0,texture_mur,4,{ 163 , 159 , 160 , 164 }},
{1,0,texture_mur,4,{ 164 , 160 , 161 , 165 }},
{1,0,texture_mur,4,{ 40 , 101 , 162 , 166 }},
{1,0,texture_mur,4,{ 166 , 162 , 163 , 167 }},
{1,0,texture_mur,4,{ 167 , 163 , 164 , 168 }},
{1,0,texture_mur,4,{ 40 , 166 , 167 , 41 }},
{2, 55 ,texture_pierre,4,{ 105 , 120 , 122 , 154 }},
{2, 55 ,texture_pierre,4,{ 154 , 122 , 124 , 155 }},
{2, 55 ,texture_pierre,4,{ 155 , 124 , 126 , 156 }},
{2, 55 ,texture_pierre,4,{ 156 , 126 , 128 , 157 }},
};
